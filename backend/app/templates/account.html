{% extends "base.html" %}
{% block content %}
<h1>마이페이지</h1>
<p>로그인 정보: {{ current_user.username }}</p>
<form method="POST" action="" enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    <div>{{ form.name.label }} {{ form.name() }}</div>
    <div>{{ form.breed.label }} {{ form.breed() }}</div>
    <div>{{ form.age.label }} {{ form.age() }}</div>
    <div>{{ form.weight.label }} {{ form.weight() }}</div>
    <div>{{ form.image_file.label }} {{ form.image_file() }}</div>
    <div>{{ form.submit() }}</div>
</form>
<h2>등록된 고양이</h2>
<ul>
    {% for cat in cats %}
        <li>
            {{ cat.name }} - {{ cat.breed }} - {{ cat.age }}살 - {{ cat.weight }}kg 
            <img src="{{ url_for('static', filename='cat_pics/' + cat.image_file) }}" alt="고양이 사진">
            <a href="{{ url_for('edit_cat', cat_id=cat.id) }}" class="btn btn-primary">수정</a>
            <form action="{{ url_for('delete_cat', cat_id=cat.id) }}" method="POST" style="display:inline;">
                <button type="submit" class="btn btn-danger">삭제</button>
            </form>
        </li>
    {% endfor %}
</ul>
<a href="{{ url_for('logout') }}" class="btn btn-danger">로그아웃</a>
{% endblock %}